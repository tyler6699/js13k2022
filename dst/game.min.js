var h,n=[];function a(t,e){for(m=h.createBuffer(1,96e3,48e3),gainNode=h.createGain(),b=m.getChannelData(0),i=96e3;i--;)b[i]=getSound(t,i);s=h.createBufferSource(),s.buffer=m,s.connect(gainNode),gainNode.connect(h.destination),gainNode.gain.value=e,s.start()}function o(e){if(t=((t,e)=>(e-t)/e),e>7e4)return null;t(e,7e4);return Math.sin(.001*e*Math.sin(.009*e)+Math.sin(e/100))}function l(t){if(t>1e4)return null;var e=(1e4-t)/1e4;return(128&Math.pow(t,1.055)?1:-1)*Math.pow(e,2)}function u(t){if(t>5e4)return null;var e=(5e4-t)/5e4;return(200&Math.pow(t,.9)?1:-1)*Math.pow(e,3)}function d(t){var e=1e4;if(t>e)return null;var i=(e-t)/e,s=Math.pow(i,2.1);return Math.pow(t,3)&(t<3333.3333333333335?16:99)?s:-s}function p(t){if(t>2e4)return null;var e=(2e4-t)/2e4;return Math.sin(.003*-t*Math.sin(.09*t+Math.sin(t/200))+Math.sin(t/100))*e*e}function g(t){if(t>1e4)return null;var e=(1e4-t)/1e4;return Math.sin(.01*t*Math.sin(.009*t+Math.sin(t/200))+Math.sin(t/100))*e*e}function v(e){if(e>2e3)return null;t=((t,e)=>(e-t)/e);var i=t(e,2e3);return 33&Math.pow(50*e,.7)?i:-i}function w(e){if(t=((t,e)=>(e-t)/e),e>2e4)return null;var i=t(e,2e4);return e*=.04,Math.sin(.03*-e*Math.sin(.09*e+Math.sin(e/200))+Math.sin(e/100))*i}function k(){var t=!0;this.ratio=0,V>800?(this.ratio=V/800,console.log("Wider: "+this.ratio)):(this.ratio=V/800,console.log("High Screen: "+this.ratio)),this.scale=2,this.cube=16,this.scaled=this.scale*this.cube,this.hero=new J(16,16,40*this.scale,100*this.scale,0,T.HERO,this.scale),this.introT=0,this.shake=0,this.shakeTime=0,this.reset=!1,this.wait=2,this.genLevel=function(t){this.levels=[];let e=[64,0];for(i=0;i<1;i++){var s=new U(t,V,q,i,this.scale,e[i]);s.reset(i,this.scaled),this.levels.push(s)}this.level=this.levels[0],this.hero.e.curLevel=0},this.genLevel(0);var e=this.levels[this.hero.e.curLevel].cols;this.surTiles=[-1,1,e-1,e,e+1,-e-1,-e,1-e],this.update=function(e,s){if(t&&(t=!1,ctx.scale(this.ratio,this.ratio)),this.shake=xt?Math.cos(et):0,this.hero.setCurrentTile(this.scaled),C(et),this.level.draw(this.hero,e),nt=!1,this.hero.update(ctx,e),wt.canvas.style.cursor="none",this.introT>0){for(i=0;i<=V/33;i++)for(j=0;j<=q/33;j++)ctx.save(),ctx.translate(32*i,32*j),col=i%2==0&&j%2==0?"#000":"#FFF",ctx.fillStyle=col,ctx.globalAlpha=.5,ctx.fillRect(this.introT/-2,this.introT/-2,this.introT,this.introT),ctx.restore();this.introT-=48*e}lt&&(lt=!1,this.levels[this.hero.e.curLevel].reset(),this.hero.reset())}}getSound=function(t,e){var i;switch(t){case qt:i=o(e);break;case Qt:i=d(e);break;case $t:i=l(e);break;case _t:i=u(e);break;case te:i=p(e);break;case ee:i=g(e);break;case ie:i=v(e);break;case se:i=w(e);break;default:return 1}return i};const T={FLOOR:1,AIR:2,HERO:3,WALL:4,SPIKE:5,TONNE:6,LSPIKE:7,RSPIKE:8,TSPIKE:9,BUTTON:10,PORTAL:11,DOOR:12},M={FOLLOW:0,SIMPLE:1};function S(t,e,i,s,h,n,r,a,o,l){this.entity=new G(t,t,e,i,s,h,"",o,0,0),this.column=r,this.row=a,this.active=!0,this.trigger=l,this.update=function(t){this.entity.update(t)},this.change=function(){this.entity.type>=Object.values(T).length&&(this.entity.type=0),this.entity.setType()},this.isTile=function(){return!0}}function E(t,e,i,s){this.x=t,this.y=e,this.w=i,this.h=s}function L(){let t="#";for(var e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}var O="Google UK English Female";function I(t){let e=new SpeechSynthesisUtterance;e.text=t,e.voice=speechSynthesis.getVoices().filter(function(t){return t.name==O})[0],speechSynthesis.speak(e)}function A(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function R(t){return new E(t.x,t.y,t.w,t.h)}function P(t,e,i,s,h,n,r,a){return t<h+r&&t+i>h&&e<n+a&&e+s>n}function D(t,e){return t.x<e.x+e.w&&t.x+t.w>e.x&&t.y<e.y+e.h&&t.y+t.h>e.y}function H(t,e){this.x=t,this.y=e,this.set=function(t,e){this.x=t,this.y=e}}function C(t){ctx.fillStyle="#FFF";for(let e=2e3;e--;)x=(1e9*Math.sin(e)-t/2e3*(e+1e3)/50)%(wt.canvas.width+9)-9,y=9*e%V,s=e%5,ctx.fillRect(x,y,s,s)}function K(t){for(i=200;i--;ctx.fillRect(V/2+i*Math.sin(i)*Z,423+i*Math.cos(9*i)*Z,Z,Z))ctx.fillStyle="rgba(255,255,255,"+(i+.1)+")",Z=2*Math.tan(i/9+t/3)}function W(t,e,i,s,h,n,r,a,o,l,c=0){t.save(),t.globalAlpha=o,t.translate(r,a),c>0&&(t.translate(24,24),t.rotate(c*Math.PI/180),t.translate(-24,-24)),t.drawImage(e,i,s,h,n,h/2,n/2,h*l,n*l),t.restore()}function N(t,e,i,s,h,n,r,a,o){t.save(),t.globalAlpha=o,t.translate(e,i),t.fillStyle=a,t.fillRect(s,h,n,r),t.restore()}function B(){V=window.innerWidth,q=window.innerHeight;let t=0;t=V/q>4/3?(V=q*(4/3))/1216:(q=V/(4/3))/832,pt.scale=t*scale.scale}function F(t){var e=A(0,360)*Math.PI/180,i=A(50,180),s=[-1,1][A(0,1)]*i;return{x:t.x+s*Math.cos(e),y:t.y+s*Math.sin(e)}}function U(t,e,i,s,h,n){dt=t,this.tiles=[],this.triggers=[],this.breakTiles=[],this.mvTiles=[],this.active=!1,this.roomNo=s,this.opendoors=!1,this.startPos=[40,100];this.cols=24;let a=0;function o(t,e,i,s){return 1==e||e==i-2||1==t&&1==e||1==t&&e==i-2||1==t&&e>1&&e<i-2||t==s-2&&e==i-2||t==s-2&&1==e||t==s-2&&e>1&&e<i-2}this.doorDrop=n,this.draw=function(t,e){this.tiles.forEach(t=>t.update(e)),this.opendoors&&this.mvTiles.forEach(t=>{t.entity.isSolid=!1,a<this.doorDrop?(t.entity.y+=2,a+=1):t.entity.active&&(pt.shakeTime=.1,t.entity.active=!1)}),this.triggers.forEach((e,i)=>{if(!e.trigger)return;e.entity.x,e.entity.hWidth;if(e.entity.type==T.TONNE){let i=t.e.x,s=t.e.x+t.e.width*h,n=e.entity.x,r=e.entity.x+e.entity.width*h;(i>n&&i<r||s>n&&s<r)&&t.e.y-t.e.height>e.entity.y&&(e.entity.y+=30),D(t.e.hb,e.entity.hb)&&(t.kill(),e.trigger=!1)}})},this.reset=function(t,e){this.tiles=[],this.dTiles=[],this.mvTiles=[],this.opendoors=!1,a=0;let i=!1;for(r=0;r<13;r++)for(c=0;c<this.cols;c++){var s;i=!1,ts=16*h,xx=c*ts,yy=r*ts;var n=T.AIR;0==r||0==c||12==r||c==this.cols?n=T.AIR:10==r&&5==c?n=T.BLOCK:o(r,c,this.cols,13)&&(n=T.BLOCK),10==r&&c>5&&c<16&&(n=T.SPIKE),15==c&&r<10&&r>5&&(n=T.LSPIKE),16==c&&r<10&&r>5&&(n=T.BLOCK),10==r&&16==c&&(n=T.BLOCK),10==r&&4==c&&(n=T.BUTTON),8==r&&20==c&&(n=T.PORTAL),9==r&&5==c&&(n=T.DOOR),8==r&&5==c&&(n=T.DOOR),n==T.TONNE&&(i=!0),s=new S(16,xx,yy,0,n,!1,c,r,h,i),this.tiles.push(s),1==s.trigger&&this.triggers.push(s),n==T.DOOR&&this.mvTiles.push(s)}},this.addAir=function(t){this.tiles[t].entity.setT(T.AIR)},this.addWall=function(t){this.tiles[t].entity.setT(T.WALL)}}function G(t,e,i,h,n,r,a,o,l=!1,c=0){this.scale=o,this.type=r,this.width=t,this.height=e,this.mhWidth=t/-2,this.mhHeight=e/-2,this.mhWScaled=t/-2*o,this.mhHScaled=e/-2*o,this.hWidth=t/2,this.hHeight=e/2,this.cenX=i-this.mhWScaled,this.cenY=h-this.mhHScaled,this.angle=n,this.x=i,this.y=h,this.active=!0,this.colour=a,this.image=yt,this.animated=!1,this.alpha=1,this.currentTile=0,this.colArr=[],this.isSolid=!1,this.isButton=l,this.time=0,this.maxHP=c,this.hp=this.maxHP,this.breaks=!1,this.flip=!1,this.idle=0,this.pressed=!1,this.sx=0,this.sy=0,this.setHitbox=function(){this.hb=new E(0,0,0,0),this.sensor=new E(0,0,0,0),this.isButton&&(this.hb.w=2*this.width,this.hb.h=2*this.height)},this.setHitbox(),this.updateHitbox=function(){this.isButton?(this.hb.x=this.x-this.width,this.hb.y=this.y-this.height):(this.hb.x=this.x+this.scale/2,this.hb.y=this.y+this.scale/2,this.hb.w=this.width*this.scale-this.scale,this.hb.h=this.height*this.scale-this.scale,this.sensor.x=this.x-5,this.sensor.y=this.y-5,this.sensor.w=this.width*this.scale+10,this.sensor.h=this.height*this.scale+10)},this.update=function(i){this.idle+=i,this.updateHitbox(),this.active&&!this.isFloor()&&(ctx.save(),ctx.translate(this.x,this.y),ctx.globalAlpha=this.alpha,img=this.image,s=this.scale,mhw=this.mhWidth,mhh=this.mhHeight,hw=this.hWidth,hh=this.hHeight,t=this.width,e=this.height,pt.shakeTime>0&&(pt.shakeTime-=i/1e3,ctx.translate(pt.shake,pt.shake)),null==this.image?(ctx.fillStyle=this.colour,ctx.fillRect(.5*mhw*s,.5*mhh*s,.5*t*s,.5*e*s)):(this.flip?(ctx.scale(-1,1),ctx.translate(-t*s-t,0)):ctx.scale(1,1),f=0,z=0,this.angle>0&&(ctx.translate(24,24),ctx.rotate(this.angle*Math.PI/180),ctx.translate(-24,-24)),pt.shakeTime>0&&(pt.shakeTime-=i/1e3,ctx.translate(pt.shake,pt.shake)),ctx.drawImage(img,this.sx,this.sy,t,e,hw+z,hh+f,t*s,e*s)),ctx.restore()),this.cenX=this.x-this.mhWScaled,this.cenY=this.y-this.mhHScaled},this.isHero=function(){return this.type==T.HERO},this.isTile=function(){return!1},this.setT=function(t){this.type=t,this.setType()},this.isFloor=function(){return this.type==T.FLOOR},this.setType=function(){switch(this.alpha=1,this.sy=0,this.sx=0,this.isSolid=!1,this.type){case T.HERO:this.isSolid=!0,this.sx=0,this.sy=0;break;case T.WALL:this.sy=16;break;case T.BLOCK:this.isSolid=!0,this.sx=16;break;case T.SPIKE:this.sx=48;break;case T.LSPIKE:this.sx=48,this.angle=270;break;case T.RSPIKE:this.sx=48,this.angle=90;break;case T.TSPIKE:this.sx=48,this.angle=180;break;case T.TONNE:this.sx=48,this.sy=16;break;case T.BUTTON:this.sx=64;break;case T.FLOOR:this.sx=32,this.sy=32,this.alpha=.9;break;case T.PORTAL:this.sx=64,this.sy=16,this.alpha=.9;break;case T.AIR:this.sx=144;break;case T.DOOR:this.isSolid=!0,this.sx=32}},this.setType()}function J(t,i,s,h,n,r,o){this.e=new G(t,i,s,h,n,r,"",o,!1,100),this.hereos=[],this.active=!0,this.hp=2,this.particles=[];let l=null,c=!1,u=0,f=0,d=0,y=.1,x=Dt,p={x:this.e.x,y:this.e.y},g=[],v=0,b=.15,w=0,m=0,k=0,M=0;this.update=function(t,e){if(this.time+=e,(Math.abs(p.x-this.e.x)>20||Math.abs(p.y-this.e.y)>20)&&(!function(t,e,i){i.length>8&&i.splice(0,1);i.push({x:t,y:e,d:x})}(this.e.x,this.e.y,g),p={x:this.e.x,y:this.e.y}),this.active?(St()||Et()?(this.e.angle+=20,w+=e,u=u>6?6:u+=.5):(u=u>0?u-=.5:0,this.e.angle=0,w=0),(St()||u>0&&x==Pt)&&(x=Pt,this.e.x-=this.gMove(-1,0),this.e.flip=!0,!St()&&this.grounded()&&this.addDust()),(Et()||u>0&&x==Dt)&&(x=Dt,this.e.x+=this.gMove(1,0),this.e.flip=!1,!Et()&&this.grounded()&&this.addDust())):1==this.hp&&m>0&&(m-=e)<=0&&(this.active=!0,this.e.sy=0),d<=0&&this.grounded()?c=!1:d>0&&(this.e.y-=this.gMove(0,-1,!1,!0),d-=e),this.canFall&&y>=.1?this.e.y+=this.gMove(0,1,!0,!1):this.grounded()||(y+=e),this.grounded()&&0!=y&&!c&&(y=0),this.grounded()||(w=0),null!=l){let t=l.entity.type;t==T.SPIKE||t==T.LSPIKE||t==T.RSPIKE||t==T.TSPIKE?(this.bloodSplatter(!1,k,M),this.bloodDrip(l.entity),console.log(l.entity),this.kill()):t!=T.BUTTON||l.entity.pressed?t==T.PORTAL&&(console.log("DONE"),this.bloodSplatter(!0,k,M)):(pt.shakeTime=.1,l.entity.pressed=!0,l.entity.sx=80,pt.levels[this.e.curLevel].opendoors=!0,a(Qt,.8))}(Lt()||It())&&this.jump(),this.hereos.forEach((e,i)=>(function t(e,i,s,h){i.constructor===Array&&v>0&&s==h?i.forEach((s,h)=>t(e,s,h,i.length-1)):v>0&&W(e,this.e.image,0,16,this.e.width,this.e.height,i.x,i.y,s/h+.3,o);if(i.constructor===Array){let t=i[i.length-1];null!=t&&W(e,this.e.image,0,16,this.e.width,this.e.height,t.x,t.y,.7,o)}})(t,e,i,this.hereos.length-1));for(let e=1;e<this.hp;e++)W(t,this.e.image,0,0,this.e.width,this.e.height,2*this.e.width*e,2*this.e.height,1,o);for(let i=0;i<=this.particles.length-1;i++)this.particles[i].update(t,e);if(this.e.update(e),Rt()&&this.active&&this.hereos.length>0)if(v=.1,b<=0){b=.15;let t=this.hereos[this.hereos.length-1],e=1==t.length?t[0]:t[t.length-2];rec=new E(e.x,e.y,this.e.hb.w,this.e.hb.h),D(this.e.hb,rec)&&this.active||(this.hereos[this.hereos.length-1].pop(),0==this.hereos[this.hereos.length-1].length&&(this.hereos.splice(this.hereos.length-1,1),this.hp++,this.active=!0))}else b-=e;v>0&&(v-=e),w>.35&&this.addDust(),this.particles=this.particles.filter(function(t){return 0==t.remove}),k=this.e.x-this.e.mhWScaled,M=this.e.y-this.e.mhHScaled},this.reset=function(){this.hereos=[],this.particles=[],this.hp=2;let t=pt.levels[this.e.curLevel];this.e.x=t.startPos[0]*o,this.e.y=t.startPos[1]*o},this.kill=function(){pt.shakeTime=.15,a(ee,1),this.hp>0&&(this.hp--,this.hereos.push(g),g=[],this.e.x=pt.levels[this.e.curLevel].startPos[0]*o,this.e.y=pt.levels[this.e.curLevel].startPos[1]*o,0==this.hp&&(this.active=!1,this.hereos.splice(this.hereos.length-1,1),this.hp++,this.e.sy=16,m=.4,u=0))},this.setCurrentTile=function(t){heroRow=Math.floor((this.e.y-this.e.mhHScaled)/t),heroCol=Math.floor((this.e.x-this.e.mhWScaled)/t),heroTileIndex=heroCol+pt.levels[this.e.curLevel].cols*heroRow,null!=l&&(this.prevTile=l),l=pt.level.tiles[heroTileIndex],this.e.x==p.x&&this.e.y==p.y||(this.e.colArr=[],pt.surTiles.forEach(t=>this.e.colArr.push(pt.level.tiles[heroTileIndex+t])),this.hereos.forEach(t=>(function(t,e){let i=t[t.length-1];if(null!=i){let t=new S(16,i.x,i.y,0,T.BLOCK,!1,0,0,o,!1);t.entity.updateHitbox(),e.push(t)}})(t,this.e.colArr)))},this.addDust=function(){for(let t=0;t<A(1,4);t++)this.particles.push(new particle(A(1,15),0,this.e.x-this.e.mhWScaled,this.e.y+2.2*this.e.height-A(1,5),0,"dust",!1,x));w=0},this.canFall=function(){return this.gMove(0,1,!1,!1,!0)>0},this.jump=function(){!c&&y<=.1&&this.active&&(y=.1,c=!0,d=.5,f=14,a($t,.2))},this.grounded=function(){rec=R(this.e.hb),rec.y+=2,canJump=!1;for(var t=0;t<this.e.colArr.length;t++)if(obj=this.e.colArr[t],e=obj.entity,obj.isTile()&&D(e.hb,rec)&&obj.active&&e.isSolid&&rec.y>this.e.y){canJump=!0;break}return canJump},this.gMove=function(t,i,s=!1,h=!1,n=!1){this.e.idle=0;var r=s?7:u;h?r=f=(f-=.3)>0?f:0:n&&(r=1),rec=R(this.e.hb),rec.x+=t*r,rec.y+=i*r,canMove=!0,amount=r;for(var a=r;a>0;a--){canMove=!0;for(var o=0;o<this.e.colArr.length;o++)if(obj=this.e.colArr[o],e=obj.entity,obj.isTile()){if(D(e.hb,rec)&&obj.active&&e.isSolid){canMove=!1;break}}else if(obj.active&&obj.isSolid&&D(obj.hb,rec)){canMove=!1;break}if(canMove)break;amount--,rec.x-=t,rec.y-=i}return amount},this.bloodDrip=function(t){this.particles.push(new particle(10,0,t.x+25,t.y+25,0,"bld",!1))},this.bloodSplatter=function(t,e,i){for(let s=0;s<30;s++)this.particles.push(new particle(A(1,25),0,e,i,0,"circle",t)),this.particles.push(new particle(A(1,8),0,e,i,0,t))}}let X,Y,V=window.innerWidth,q=window.innerHeight,Q=!0,$=0,_=Date.now(),tt=Date.now(),et=0,it=0,st=new H(0,0),ht=new H(0,0),nt=!1,rt=!1,at=0,ot=!1,lt=!1,ct="990099",ut="05f2db",ft=!1,dt=1,yt=new Image;yt.src="atlas.png";let xt=!0,pt=new k,gt=speechSynthesis.getVoices(),vt=!0;h=new AudioContext;let bt=!1;function startGame(){wt.start()}let wt={canvas:document.createElement("canvas"),start:function(){this.canvas.width=V,this.canvas.height=q,this.context=this.canvas.getContext("2d"),this.context.scale(1,1),ctx=this.context,ctx.mozImageSmoothingEnabled=!1,ctx.webkitImageSmoothingEnabled=!1,ctx.imageSmoothingEnabled=!1,this.canvas.classList.add("screen"),document.body.insertBefore(this.canvas,document.body.childNodes[6]),this.frameNo=0,this.interval=setInterval(kt,20),window.addEventListener("keydown",function(t){t.preventDefault(),wt.keys=wt.keys||[],wt.keys[t.keyCode]="keydown"==t.type}),window.addEventListener("keyup",function(t){wt.keys[t.keyCode]="keydown"==t.type,t.keyCode==Vt&&(lt=!0)}),window.addEventListener("mousedown",function(t){t.preventDefault(),wt.keys=wt.keys||[],wt.keys[t.button]=!0,rt=!0}),window.addEventListener("mouseup",function(t){t.preventDefault(),wt.keys=wt.keys||[],wt.keys[t.button]=!1,rt=!1,at=0,nt=!0,!bt&&et>2e3&&(bt=!0),mt()}),window.addEventListener("mousemove",function(t){t.preventDefault();let e=wt.canvas.getBoundingClientRect();st.set((t.clientX-e.left)/(e.right-e.left)*V,(t.clientY-e.top)/(e.bottom-e.top)*q),row=Math.floor(st.y/this.scaled),col=Math.floor(st.x/this.scaled),mt()}),this.canvas.oncontextmenu=function(t){t.preventDefault()}},stop:function(){clearInterval(this.interval)},clear:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}};function mt(){ht.set(st.x,st.y)}function kt(){if(ot){et=0,pt.hero.e.hp=100,ot=!1,ft=!1,dt=0,bt=!1,Q=!1,pt.genLevel(dt)}bt&&et>2e3&&(null!=pt.hero&&(pt.hero.e.active=!0),Q=!0,null==h&&(h=new AudioContext)),_=tt,tt=Date.now(),et+=$=tt-_,Q?(wt.clear(),pt.update($/1e3,et)):(wt.clear(),ctx=wt.context,ctx.save(),Tt(ctx,.1,"#"+ct,0,0,V,q),txt=et>2e3?"[ CLICK TO START ]":"[ LOADING ]",Mt(ctx,1,"italic 50px Arial","WHITE",txt,380,720),z=et/1600,Mt(ctx,1,"italic 60px Arial","WHITE","Death Counts",50+40*Math.cos(z),150+20*Math.sin(z)),Mt(ctx,1,"italic 30px Arial","WHITE","Die to live!",50+70*Math.cos(z),230+20*Math.sin(z)))}function Tt(t,e,i,s,h,n,r){t.globalAlpha=e,t.fillStyle=i,t.fillRect(s,h,n,r)}function Mt(t,e,i,s,h,n,r){t.globalAlpha=e,t.font=i,t.fillStyle=s,t.fillText(h,n,r)}function St(){return wt.keys&&(wt.keys[Pt]||wt.keys[Wt])}function Et(){return wt.keys&&(wt.keys[Dt]||wt.keys[jt])}function Lt(){return wt.keys&&(wt.keys[Ht]||wt.keys[Kt])}function Ot(){return wt.keys&&(wt.keys[Ct]||wt.keys[Nt])}function It(){return wt.keys&&wt.keys[Ut]}function At(){return wt.keys&&wt.keys[Bt]}function Rt(){return wt.keys&&(wt.keys[Gt]||wt.keys[Zt])}var Pt=37,Dt=39,Ht=38,Ct=40,Kt=87,Wt=65,Nt=83,jt=68,Bt=77,Ft=0,zt=2,Ut=32,Zt=69,Gt=49,Jt=50,Xt=51,Yt=52,Vt=82,qt=0,Qt=1,$t=2,_t=3,te=4,ee=5,ie=6,se=7;